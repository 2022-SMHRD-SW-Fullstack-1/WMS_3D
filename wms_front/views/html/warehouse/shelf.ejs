<!DOCTYPE html>
<html lang="en"> 
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="views/css/warehouse/shelf.css" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>
    <script
      type="text/javascript"
      src="views/js/warehouse/shelf.js"
      defer
    ></script>

    <!-- 사이드바 -->
    <link rel="stylesheet" href="views/css/sidebar.css" />
    
     <!-- Boxicons CDN Link -->
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <script
    type="text/javascript"
    src="views/js/sidebar.js"
    defer
    ></script>


    <!-- 사이드바 -->


  </head>
  <body>

    <div class="top_div">

      <div class="sidebar close">
        <div class="logo-details">
          <i class="bx bxs-package"></i>
          <span class="logo_name">WMS</span>
        </div>
  
        <ul class="nav-links">
          <div class="side_div1">
            <li>
              <i class="bx bx-menu"></i>
            </li>
  
            <li>
              <a href="http://localhost:3002/main">
                <i class="bx bx-grid-alt"></i>
                <span class="link_name">홈</span>
              </a>
              <ul class="sub-menu blank">
                <!-- 사이드바 닫혀있을 때 목록 없을 때 옆에 이름 설정 -->
                <li>
                  <a class="link_name" href="http://localhost:3002/main">홈</a>
                </li>
              </ul>
            </li>
  
            <li>
              <div class="icon-link">
                <a href="#">
                  <i class="bx bxs-city"></i>
                  <span class="link_name">창고</span>
                </a>
                <!-- 사이드바 목록 화살표 -->
                <i class="bx bxs-chevron-down arrow"></i>
              </div>
  
              <!-- 사이드바 서브 메뉴설정 -->
              <ul class="sub-menu">
                <li><a class="link_name" href="#">창고</a></li>
                <li><a href="http://localhost:3002/warehouse">창고관리</a></li>
              </ul>
            </li>
  
            <li>
              <div class="icon-link">
                <a href="#">
                  <i class="bx bx-package"></i>
                  <span class="link_name">입/출고</span>
                </a>
                <i class="bx bxs-chevron-down arrow"></i>
              </div>
              <ul class="sub-menu">
                <li><a class="link_name" href="#">입/출고</a></li>
                <li><a href="http://localhost:3002/input">입고현황</a></li>
                <li><a href="http://localhost:3002/output">출고현황</a></li>
                <li>
                  <a href="http://localhost:3002/inoutput_history">입출고내역</a>
                </li>
              </ul>
            </li>
  
            <li>
              <div class="icon-link">
                <a href="#">
                  <i class="bx bx-archive-out"></i>
                  <span class="link_name">재고</span>
                </a>
                <i class="bx bxs-chevron-down arrow"></i>
              </div>
              <ul class="sub-menu">
                <li><a class="link_name" href="#">재고</a></li>
                <li><a href="http://localhost:3002/stock">재고현황</a></li>
              </ul>
            </li>
  
            <li>
              <div class="icon-link">
                <a href="#">
                  <i class="bx bx-box"></i>
                  <span class="link_name">작업관리</span>
                </a>
                <i class="bx bxs-chevron-down arrow"></i>
              </div>
              <ul class="sub-menu">
                <li><a class="link_name" href="#">작업관리</a></li>
                <li><a href="http://localhost:3002/work_history">작업내역</a></li>
              </ul>
            </li>
          </div>
  
          <div>
            <li>
              <div class="icon-link">
                <a href="#">
                  <i class="bx bx-bell"></i>
                  <span class="link_name">알림</span>
                </a>
              </div>
              <ul class="sub-menu blank">
                <li><a class="link_name" href="#">알림</a></li>
              </ul>
            </li>
  
            <li>
              <a href="#">
                <i class="bx bxs-user"></i>
                <span class="link_name">사용자</span>
              </a>
              <ul class="sub-menu blank">
                <li><a class="link_name" href="#">사용자</a></li>
              </ul>
            </li>
  
            <li>
              <div class="profile-details">
                <div class="profile-content">
                  <img src="views/image/profile.jpg" alt="profileImg" />
                </div>
                <div class="name-job">
                  <div class="profile_name">김정우</div>
                  <div class="job"></div>
                </div>
                <i class="bx bx-log-out"></i>
              </div>
            </li>
          </div>
        </ul>
      </div>
<!-- == 사이드바 -->


      <div class="main_div">
        <div class="management_div">
          <a href="http://localhost:3002/shelf">선반 관리</a>
        </div>
        <hr />
        <div class="btn_div">
          <button>수정</button>

          <div></div>

          <div class="search_div">
            <div class="dropdown">
              <button onclick="dp_menu()" class="button">선반명 ▼</button>
              <div style="display: none" id="drop-content">
                <a href="#">선반 명</a>
                <a href="#">해당 창고명</a>
                <a href="#">선반 너비 / 길이 / 층수</a>
                <a href="#">적재 가능</a>
                <a href="#">총 공간</a>
              </div>
            </div>
            <input type="text" />
            <button id="search_btn">검색</button>
          </div>
          <%if(data.length >0){%>
          <button id="add_warehouse_btn" onclick="goToCreateShelf('<%- data[0].wh_num%>')">+ 선반 추가</button>
            <%} else{%>
              <button id="add_warehouse_btn" onclick="goToCreateShelf(localStorage.getItem('wh_num_for_create_shelf'))">+ 선반 추가</button>
            <%}%>

        </div>
        
        <div class="graph_top_div">
          <div class="main_graph_div">
            <div class="bd-example">
              <table class="table table-striped table-hover">
                <thead>
                  <tr>
                    <th><input type="checkbox" /></th>
                    <th scope="col">선반 명</th>
                    <th scope="col">해당 창고명</th>
                    <th scope="col">선반 너비 / 길이 / 층수</th>
                    <th scope="col">적재 가능</th>
                    <th scope="col">총 공간</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  
                  <%for(var i = 0; i<data.length; i++){%>
                    <tr onclick = "changeSub({
                      wh_num:'<%- data[i].wh_num%>',
                      wh_name:'<%- data[i].wh_name%>',
                      shelf_num:'<%- data[i].shelf_num%>',
                      shelf_name:'<%- data[i].shelf_name%>',
                      width:'<%- data[i].shelf_width%>',
                      length:'<%- data[i].shelf_length%>',
                      floor:'<%- data[i].shelf_floor%>',
                    })">
                      <td><input type="checkbox" /></td>
                      <td><%- data[i].shelf_name%></td>
                      <td><%- data[i].wh_name%></td>
                      <td><%- data[i].shelf_width %> / <%- data[i].shelf_length %> / <%- data[i].shelf_floor %> </td>
                      <td><%- data[i].now_avl %></td>
                      <td><%- data[i].max_avl %></td>
                    </tr>
                  <% } %>  
                  
                  <div style="display: none">
                    <%for(var i =0;i<stock_data.length;i++){%>
                      <span class="storage_stock_info"><%- stock_data[i].shelf_num%>/<%- stock_data[i].stock_num%>/<%- stock_data[i].stock_name%>/<%- stock_data[i].stock_info%>/<%- stock_data[i].buy_com%>/<%- stock_data[i].input_date%>/<%- stock_data[i].stock_floor%>/<%- stock_data[i].stock_position%></span>
                    <% } %>
                  </div>
            

                </tbody>
              </table>

              <!-- 페이지 바 -->
              <nav aria-label="Page navigation example">
                <ul class="pagination justify-content-center">
                  <li class="page-item disabled">
                    <a class="page-link">이전</a>
                  </li>
                  <li class="page-item"><a class="page-link" href="#">1</a></li>
                  <li class="page-item"><a class="page-link" href="#">2</a></li>
                  <li class="page-item"><a class="page-link" href="#">3</a></li>
                  <li class="page-item">
                    <a class="page-link" href="#">다음</a>
                  </li>
                </ul>
              </nav>
              <!-- 페이지 바 -->
            </div>
          </div>


          <div class="sub_graph_div">
            <div class="shelf_head" ><h2 id="sub_div_head"> 선반을 클릭 해주세요 </h2></div>
            <div class="shelf_container_top">
  
            </div>
            <div class="shelf_choice_div none_view">
                <h2> 재고 정보 </h2>
                <br/>
                <div>
                  <span>재고 번호 : </span><span id="sub_stock_num"></span>
                </div>
                <div>
                  <span>재고 명 : </span><span id="sub_stock_name"></span>
                </div>
                <div>
                  <span>재고 정보 : </span><span id="sub_stock_info"></span>
                </div>
                <div>
                  <span>구매 회사 : </span><span id="sub_stock_buy_com"></span>
                </div>
                <div>
                  <span>입고 일자 : </span><span id="sub_stock_input_dt"></span>
                </div>
                
            </div>
          </div>
        </div>
      </div>
    </div>

  </body>
</html>