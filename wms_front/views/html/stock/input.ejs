<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="views/css/stock/input.css" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script type="text/javascript" src="views/js/stock/input.js" defer></script>
  <!-- 사이드바 -->
  <link rel="stylesheet" href="views/css/sidebar.css" />
    
  <!-- Boxicons CDN Link -->
 <link
   href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
   rel="stylesheet"
 />
 <script
 type="text/javascript"
 src="views/js/sidebar.js"
 defer
 ></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.15.5/xlsx.full.min.js"></script>
 <!-- 사이드바 -->
 <script src="http://code.jquery.com/jquery-latest.js"></script> 
  </head>
  <body>

    <div class="top_div">

      <div class="sidebar close">
        <div class="logo-details">
          <i class="bx bxs-package"></i>
          <span class="logo_name">WMS</span>
        </div>
  
        <ul class="nav-links">
          <div class="side_div1">
            <li>
              <i class="bx bx-menu"></i>
            </li>
  
            <li>
              <a href="http://localhost:3002/main">
                <i class="bx bx-grid-alt"></i>
                <span class="link_name">홈</span>
              </a>
              <ul class="sub-menu blank">
                <!-- 사이드바 닫혀있을 때 목록 없을 때 옆에 이름 설정 -->
                <li>
                  <a class="link_name" href="http://localhost:3002/main">홈</a>
                </li>
              </ul>
            </li>
  
            <li>
              <div class="icon-link">
                <a href="#">
                  <i class="bx bxs-city"></i>
                  <span class="link_name">창고</span>
                </a>
                <!-- 사이드바 목록 화살표 -->
                <i class="bx bxs-chevron-down arrow"></i>
              </div>
  
              <!-- 사이드바 서브 메뉴설정 -->
              <ul class="sub-menu">
                <li><a class="link_name" href="#">창고</a></li>
                <li><a href="http://localhost:3002/warehouse">창고관리</a></li>
              </ul>
            </li>
  
            <li>
              <div class="icon-link">
                <a href="#">
                  <i class="bx bx-package"></i>
                  <span class="link_name">입/출고</span>
                </a>
                <i class="bx bxs-chevron-down arrow"></i>
              </div>
              <ul class="sub-menu">
                <li><a class="link_name" href="#">입/출고</a></li>
                <li><a href="http://localhost:3002/input">입고현황</a></li>
                <li><a href="http://localhost:3002/output">출고현황</a></li>
                <li>
                  <a href="http://localhost:3002/inoutput_history">입출고내역</a>
                </li>
              </ul>
            </li>
  
            <li>
              <div class="icon-link">
                <a href="#">
                  <i class="bx bx-archive-out"></i>
                  <span class="link_name">재고</span>
                </a>
                <i class="bx bxs-chevron-down arrow"></i>
              </div>
              <ul class="sub-menu">
                <li><a class="link_name" href="#">재고</a></li>
                <li><a href="http://localhost:3002/stock">재고현황</a></li>
              </ul>
            </li>
  
            <li>
              <div class="icon-link">
                <a href="#">
                  <i class="bx bx-box"></i>
                  <span class="link_name">작업관리</span>
                </a>
                <i class="bx bxs-chevron-down arrow"></i>
              </div>
              <ul class="sub-menu">
                <li><a class="link_name" href="#">작업관리</a></li>
                <li><a href="http://localhost:3002/work_history">작업내역</a></li>
              </ul>
            </li>
          </div>
  
          <div>
            <li>
              <div class="icon-link">
                <a href="#">
                  <i class="bx bx-bell"></i>
                  <span class="link_name">알림</span>
                </a>
              </div>
              <ul class="sub-menu blank">
                <li><a class="link_name" href="#">알림</a></li>
              </ul>
            </li>
  
            <li>
              <a href="#">
                <i class="bx bxs-user"></i>
                <span class="link_name">사용자</span>
              </a>
              <ul class="sub-menu blank">
                <li><a class="link_name" href="#">사용자</a></li>
              </ul>
            </li>
  
            <li>
              <div class="profile-details">
                <div class="profile-content">
                  <img src="views/image/profile.jpg" alt="profileImg" />
                </div>
                <div class="name-job">
                  <div class="profile_name">김정우</div>
                  <div class="job"></div>
                </div>
                <i class="bx bx-log-out"></i>
              </div>
            </li>
          </div>
        </ul>
      </div>

<!-- == 사이드바 -->


<div class="main_div">
  <div class="management_div">
    <a href="#">입고현황</a>
  </div>
  <hr />
  <div class="btn_div">
      <button class="input_modify">수정</button>
    <div></div>

    <div class="search_div">
      <div class="dropdown">
        <button onclick="dp_menu()" class="button" id="drop_cate">카테고리 선택 ▼</button>
        <div style="display: none" id="drop-content">
          <a onclick="getCateValue('stock_num')" id="stock_num">재고 번호</a>
          <a onclick="getCateValue('stock_name')" id="stock_name">재고 명</a>
          <a onclick="getCateValue('stock_info')" id="stock_info">재고 정보</a>
          <a onclick="getCateValue('buy_com')" id="buy_com">구매처</a>
          <a onclick="getCateValue('wlb_input_date')" id="wlb_input_date">입고 예정 일자</a>
        </div>
      </div> 
      <input type="text" id="search_text" onkeyup="searchText()" />
      <button onclick="sendSearchText()" id="search_btn">검색</button>
    </div>


    <div class="input_ex">
      <button class="add_input_btn" data_modal="modal1">+ 직접 입고</button>
      <div class="filebox">
    <label for="ex_file"> <img src="views/image/excel_img.png" alt="excel_img" class="excel_img"> 엑셀 입고</label>
    <input type="file" onchange="readExcel()">
      </div>
    </div>
    
    <div class="input_modal" id="modal1">
      <div class="input_modal_content">

        <div class="input_modal_header">입고 추가</div>
            
        <hr class="hrt"/>
        <div class="input_modal_body">
          <form onsubmit="stockInput()" action ="/inputStock" method="post" >
            
            <div class="stock_name">
            <span>재고 명</span>
                <input type="text" id="stock_name" name="stock_name" placeholder="재고명을 입력해주세요.">
              </div>
              
              <div class="stock_info">
              <span>재고 정보</span>
                <input type="text" id="stock_info" name="stock_info" placeholder="재고정보를 입력해주세요.">
              </div>
              
              <div class="buy_com"> 
                <span>구매처</span>
                <input type="text" id="buy_com" name="buy_com" placeholder="구매처를 입력해주세요.">
              </div>
              
              <div class="wlb_input_date">  
                <span>입고예정일자 </span>
                <input type="date" id="wlb_input_date" name="wlb_input_date" placeholder="입고 예정일자를 입력해주세요.">                  
              </div>
              
              <div class="input_modal_footer">
                <div><button class="link_modal_close" type="submit">완료</button></div>
                <div><button class="icon_modal_close" type="button">취소</button></div>
              </div>
            </form>
          </div>
        </div>
            </div>
  </div>
  
  <div class="graph_top_div">
    <div class="main_graph_div">
      <div class="bd-example">
        <table class="table table-striped table-hover" id="table">
          <thead>
            <tr>
              <th><input type="checkbox" onclick="selectAll(this)" /></th>
              <th scope="col" onclick="orderListNum()">재고 번호 <img src="views/image/updown.png" height="20px"/></th>
              <th scope="col" onclick="orderListName()">재고 명 <img src="views/image/updown.png" height="20px"/></th>
              <th scope="col" onclick="orderListInfo()">재고 정보 <img src="views/image/updown.png" height="20px"/></th>
              <th scope="col" onclick="orderListBuy()">구매처 <img src="views/image/updown.png" height="20px"/></th>
              <th scope="col" onclick="orderListDue()">입고 예정 일자 <img src="views/image/updown.png" height="20px"/></th>
              <th scope="col">입고 완료</th>
              <th></th>
            </tr>
          </thead>
          <tbody>

            <%for(var i = 0; i<data.length; i++){%>
              <tr>
                <td><input type="checkbox" name="item" id="my_checkbox" value="<%- data[i].stock_num%>" /></td>
                <td><%- data[i].stock_num%></td>
                <td><%- data[i].stock_name%></td>
                <td><%- data[i].stock_info %></td>
                <td><%- data[i].buy_com %></td>
                <td><%- data[i].wlb_input_date %></td>

                <td>
                  <% if(data[i].input_date) { %>
                    <%- data[i].input_date %>
                  <% } else { %>
                    <button class="input_date_button" data_modal2="modal2" >입고완료</button>
                  <% } %>
                </td>
                
              </tr>
            <% } %>  
            
          </tbody>
            
            <div>
              <div class="input_modal2" id="modal2">
                <div class="input_modal2_content">
        
                <div class="input_modal2_header">입고 완료</div>
                    
                <hr class="hrt"/>
                <div class="input_modal2_body">
                  <form onsubmit="stockInputC()" action ="/inputCpt" method="post" >
                      
                    <div class="wh_name">
                    <span>창고명</span>
                        <input type="text" id="wh_name" name="wh_nm" placeholder="">
                      </div>
                       
                    <div class="shelf_name">
                    <span>선반명</span>
                        <input type="text" id="shelf_name" name="shelf_name" placeholder="">
                      </div>
                      
                    <div class="shelf_floor"> 
                    <span>선반층수</span>
                        <input type="text" id="shelf_floor" name="shelf_floor" placeholder="">
                      </div>

                    <div class="stock_position"> 
                    <span>재고위치</span>
                        <input type="text" id="stock_position" name="stock_position" placeholder="">
                      </div>
               
                    <div class="input_date">  
                    <span>입고완료일자</span>
                        <input type="date" id="input_date" name="input_date" placeholder="">                  
                      </div>

                      <div class="input_modal2_footer">
                        <div><button class="link_modal2_close" type="submit">완료</button></div>
                        <div><button class="icon_modal2_close" type="button">취소</button></div>
                      </div>
                    </form>
                  </div>
                </div>
                    </div>
        </table>
      </div>
    </div>
  </div>
  <div class="excle_div_output">
    <button class="excle_btn_output" type="button" onclick="ExcelExport('table', 'title')"><img src="views/image/excel_img.png" alt="excel_img" class="excel_img"> 내보내기</button>
  </div>

</div>
</div>
  </body>
</html>
